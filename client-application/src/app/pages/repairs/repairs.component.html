<div class="table-with-buttons">
  <fixtab-expanded-table
    [columns]="columns"
    [values]="requestRepairs"
    tableName="Naprawy"
    [showCaption]="true"
    [showTableName]="true"
    (selectedRequestRepair)="onRepairSelected($event)"
    (filterClick)="filterOP.toggle($event)"
    (editActivityEmit)="openActivityDialog($event)"
  ></fixtab-expanded-table>
  <fixtab-table-buttons
    (addActionEmit)="openRepairsDialog($event)"
    (editActionEmit)="openRepairsDialog($event)"
    (deleteActionEmit)="openRepairsDeleteDialog($event)"
    [isSelectedItem]="selectedRepair !== null"
  ></fixtab-table-buttons>
</div>

<fixtab-delete-dialog
  *ngIf="openDeleteDialog"
  (deleteConfirmationEmit)="handleRepairsDeleteDialog($event)"
></fixtab-delete-dialog>

<p-overlayPanel #filterOP>
  <ng-template pTemplate>
    <fixtab-filter
      [repairs]="requestRepairs"
      (emitRepairs)="onRepairFiltered($event)"
    ></fixtab-filter>
  </ng-template>
</p-overlayPanel>
